(this["webpackJsonpspotify-stats"]=this["webpackJsonpspotify-stats"]||[]).push([[0],{26:function(e,t,a){},45:function(e,t,a){},63:function(e,t,a){e.exports=a(92)},68:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),s=a.n(i),o=(a(68),a(33)),l=a.n(o),c=a(47),m=a(48),u=a(49),d=a(27),g=a(58),p=a(57),h=a(50),f=a.n(h),E=["user-top-read","user-read-currently-playing","user-read-playback-state","user-top-read","playlist-read-collaborative"],v=window.location.hash.substring(1).split("&").reduce((function(e,t){if(console.log("this is initial:",e),console.log("this is item",t),t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1]),console.log("initial after if: ",e[a[0]])}return e}),{});window.location.hash="";var k=v,y=(a(26),a(115)),N=a(117),b=a(119),w=a(120),x=a(121),C=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),_=function(e){var t=C();return r.a.createElement(N.a,null,r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{container:!0,spacing:3,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(w.a,{variant:"h4",align:"left",className:"heading"},"View your personal Spotify stats.")),r.a.createElement(b.a,{item:!0,xs:12,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(x.a,{className:"reg-button",variant:"contained",color:"primary",onClick:function(){return e.handleClick("artists")}},"View Artists"),r.a.createElement(x.a,{className:"reg-button",variant:"contained",color:"secondary",onClick:function(){return e.handleClick("tracks")}},"View Tracks")))))},A=(a(45),Object(y.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}))),j=function(e){var t=A(),a=e.items,n=1,i=a.map((function(e){return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{container:!0,spacing:6,className:"grid",direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(b.a,{item:!0,xs:3,className:"artist-info"},r.a.createElement(b.a,{item:!0,xs:3},r.a.createElement(w.a,{variant:"h5",align:"left",className:"count"},"#",n++)),r.a.createElement(b.a,{item:!0,xs:3,fontWeight:"fontWeightBold",m:1},r.a.createElement(w.a,{variant:"h4",className:"artistName"},e.name))),r.a.createElement(b.a,{item:!0,xs:6},r.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.images[0].url,alt:"artist",className:"image"})))))}));return r.a.createElement(N.a,null,r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h4",align:"center",className:"heading heading-margin"},"Your Top 10 Favorite Artist"),i))},O=a(56),T=a(122),S=a(124),B=a(125),I=a(55),U=a.n(I);function W(e){var t=r.a.useState(null),a=Object(O.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",onClick:function(e){i(e.currentTarget)}},r.a.createElement(U.a,{color:"primary",style:{fontSize:50}})),r.a.createElement(S.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){i(null)}},r.a.createElement(B.a,{onClick:function(){return e.handleClick("artists")}},"View Artists"),r.a.createElement(B.a,{onClick:function(){return e.handleClick("tracks")}},"My Tracks"),r.a.createElement(B.a,{onClick:function(){return e.logOut()}},"Logout")))}var M=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),q=function(e){var t=M(),a=e.items,n=1,i=a.map((function(e){return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{container:!0,spacing:6,className:"grid",direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(b.a,{item:!0,xs:3,className:"artist-info"},r.a.createElement(b.a,{item:!0,xs:3},r.a.createElement(w.a,{variant:"h5",align:"left",className:"count"},"#",n++)),r.a.createElement(b.a,{item:!0,xs:3,fontWeight:"fontWeightBold",m:1},r.a.createElement(w.a,{variant:"h5",className:"artistName"},e.name),r.a.createElement(w.a,{variant:"h6",className:"artistName"},e.artists[0].name))),r.a.createElement(b.a,{item:!0,xs:6},r.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.album.images[0].url,alt:"artist",className:"image"})))))}));return r.a.createElement(N.a,null,r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h4",align:"center",className:"heading heading-margin"},"Your Top Favorite Tracks"),i))},V=a(123),z=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleClick=function(t){var a=e.state.token;e.getUserTopArtist(a,t)},e.logOut=function(){e.setState({token:null})},e.getUserTopArtist=function(){var t=Object(c.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("axios.get RAN"),t.next=3,f.a.get("https://api.spotify.com/v1/me/top/".concat(n),{params:{limit:50,time_range:"long_term"},headers:{Authorization:"Bearer "+a}}).then((function(t){var a=t.data;console.log("getUserTopArtist .THEN"),e.setState({items:a.items,no_data:!1,request:n}),console.log(a.items)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.state={token:null,request:"",range:"medium",items:[{artists:[{name:""}],name:"",album:{images:[{url:""}]},images:[{url:""}],external_urls:{spotify:""}}],no_data:!0},e.getUserTopArtist=e.getUserTopArtist.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=k.access_token;e&&(this.setState({token:e}),console.log("componentDidMount RAN"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null),r.a.createElement(N.a,{className:"main"},this.state.token&&r.a.createElement("div",{className:"menu"},r.a.createElement(W,{logOut:this.logOut,handleClick:this.handleClick})),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},!this.state.token&&r.a.createElement("div",{className:"login"},r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h4",align:"left",className:"heading"},"Login with your Spotify!")),r.a.createElement("div",{className:"login-button"},r.a.createElement(x.a,{variant:"contained",className:"login-button",color:"primary",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("2ed02617f4fb45588ab05522bf1f18db","&redirect_uri=").concat("https://github.com/ggmele1/spotify-stats","&scope=").concat(E.join("%20"),"&response_type=token&show_dialog=true")},r.a.createElement(w.a,null,"Login")))),this.state.token&&this.state.no_data&&r.a.createElement(_,{handleClick:this.handleClick}),this.state.token&&!this.state.no_data&&"artists"===this.state.request&&r.a.createElement(j,{handleClick:this.handleClick,items:this.state.items,className:"user"}),this.state.token&&!this.state.no_data&&"tracks"===this.state.request&&r.a.createElement(q,{items:this.state.items,className:"user"})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.d091b8b9.chunk.js.map